(window["webpackJsonpgrocery-cart"]=window["webpackJsonpgrocery-cart"]||[]).push([[0],{22:function(t,e,a){t.exports=a(42)},29:function(t,e,a){},30:function(t,e,a){},31:function(t,e,a){},42:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(12),o=a.n(c),i=(a(27),a(28),a(29),a(30),a(14)),l=a(7),s=a(8),u=a(10),d=a(9),m=a(11),f=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).state={},a}return Object(m.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props,e=t.data,a=t.onClick,n=t.onAdd,c=t.onSubstract;return r.a.createElement("div",null,r.a.createElement("img",{src:e.imageUrl,alt:e.productName}),r.a.createElement("span",null,e.brandName),r.a.createElement("span",null,"\xa0\xa0\xa0"),r.a.createElement("button",{onClick:function(){return n(e.id)}}," + "),r.a.createElement("span",null,"\xa0\xa0\xa0"),r.a.createElement("button",{onClick:function(){return a(e.id)}}," AddToCart "),r.a.createElement("span",null,"\xa0\xa0\xa0"),r.a.createElement("button",{onClick:function(){return c(e.id)}}," - "))}}]),e}(n.Component);function h(t){var e=t.data,a=t.onClick,n=t.onAdd,c=t.onSubstract;return r.a.createElement(f,{data:e,onClick:a,onAdd:n,onSubstract:c})}var p=function(t){var e=t.data.map((function(e){return r.a.createElement("div",{key:e.id,className:"col-12 col-md-5 m-1"},r.a.createElement(h,{data:e,onClick:t.onClick,onAdd:t.onAdd,onSubstract:t.onSubstract}))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e))},v=(a(31),a(44)),E=a(48),b=a(45),y=a(46),g=a(47);var O=function(t){var e=t.data.price.replace("\u20b9",""),a=t.data.count*e;return r.a.createElement("div",{className:"container",id:"box-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h6",null,t.data.productName)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("p",null,t.data.count)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("p",null,e)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("p",null,a))))},k=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).toggle=function(){a.setState((function(t){return{modal:!t.modal}}))},a.alertPayment=function(){a.setState((function(t){return{modal:!t.modal}})),a.props.clearCart(),alert("Order Placed Successfully")},a.state={modal:!1,data:[]},a}return Object(m.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data})}},{key:"render",value:function(){var t=this,e=this.props.data.map((function(t){var e=t.price.replace("\u20b9","");return e,r.a.createElement("div",{key:t.id},r.a.createElement(O,{data:t}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"danger",onClick:this.toggle},"Check out"),r.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(b.a,{toggle:this.toggle},"Items In Cart"),r.a.createElement(y.a,null,e),r.a.createElement(g.a,null,r.a.createElement(v.a,{color:"primary",onClick:function(){return t.alertPayment()}},"Proceed to Payment")," ",r.a.createElement(v.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),e}(n.Component),j=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).state={cart:[]},a}return Object(m.a)(e,t),Object(s.a)(e,[{key:"componentWillMount",value:function(){this.setState({cart:this.props.cart})}},{key:"componentWillReceiveProps",value:function(){this.setState({cart:this.props.cart})}},{key:"render",value:function(){var t=this.props.cart.map((function(t){return t?r.a.createElement("div",{key:t.id},r.a.createElement(O,{data:t})):r.a.createElement("div",null," ")}));return this.props.cart.length>0?r.a.createElement("div",null,t,r.a.createElement(k,{clearCart:this.props.clearCart,data:this.props.cart})):r.a.createElement("div",null,r.a.createElement("h4",null,"Cart is Empty!"))}}]),e}(n.Component);function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(a,!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).clearCart=function(){console.log("clicked"),a.setState({cart:[]})},a.state={data:[],isLoaded:!1,error:null,cart:[]},a}return Object(m.a)(e,t),Object(s.a)(e,[{key:"addToState",value:function(t,e){var a,n=this.state.cart&&this.state.cart.length>0?this.state.cart.filter((function(e){return e.id===t})):[];if("addToCart"===e)if(n&&n.length<=0)(a=this.state.data.filter((function(e){return e.id===t}))[0]).count=1,this.setState((function(t){return{cart:t.cart.concat(a)}}));else{n[0].count++;var r=n[0].count+1;this.setState({items:this.state.cart.map((function(t,e){return e!==n[0].id?t:S({},t,{count:r})}))})}else if("increaseQuantity"===e){var c;if(n&&n.length<=0)(c=this.state.data.filter((function(e){return e.id===t}))[0]).count=1,this.setState((function(t){return{cart:t.cart.concat(c)}}));else{var o=n[0].count++;this.setState({items:this.state.cart.map((function(t,e){return e!==n[0].id?t:S({},t,{count:o})}))})}}else if("decreaseQuantity"===e&&n&&n.length>0){var i=n[0],l=i.count;if(1===l){var s=this.state.cart.filter((function(e){return e.id!==t}));this.setState({cart:s})}else if(l>0){var u=i.count--;console.log({items:this.state.cart.map((function(t,e){return e!==n[0].id?t:S({},t,{count:u})}))}),this.setState({items:this.state.cart.map((function(t,e){return e!==n[0].id?t:S({},t,{count:u})}))})}}}},{key:"componentDidMount",value:function(){var t=this;fetch("https://raw.githubusercontent.com/Shiivani/product-db/master/products.json").then((function(t){return t.json()})).then((function(e){t.setState({isLoaded:!0,data:e})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"onAddToCart",value:function(t){this.addToState(t,"addToCart")}},{key:"onIncreaseQuantity",value:function(t){this.addToState(t,"increaseQuantity")}},{key:"onDecreaseQuantity",value:function(t){this.addToState(t,"decreaseQuantity")}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,n=e.isLoaded,c=e.error,o=e.cart;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},c?r.a.createElement("div",null,"Error: ",c.message):n?r.a.createElement(p,{data:a,onClick:function(e){return t.onAddToCart(e)},onAdd:function(e){return t.onIncreaseQuantity(e)},onSubstract:function(e){return t.onDecreaseQuantity(e)}}):r.a.createElement("div",null," Loading... ")),r.a.createElement(j,{cart:o,clearCart:this.clearCart})))}}]),e}(n.Component),N=function(t){return r.a.createElement(w,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.2e0393ac.chunk.js.map